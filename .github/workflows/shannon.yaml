name: Replace "Shannon" with "Joe" in events.md

on:
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jobs:
  replace_text:
    runs-on: ubuntu-latest
    steps:
      - name: ‚¨áÔ∏è Checkout Repository
        # We need to use the token to allow the subsequent push
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }} # This token is provided by GitHub automatically

      - name: ‚úçÔ∏è Replace "Shannon" with "Joe"
        run: |
          # Use sed to find all occurrences of "Shannon" and replace them with "Joe"
          # The -i flag edits the file in place
          sed -i.bak 's/Shannon/Joe/g' events.md
          
          # Clean up the backup file
          rm events.md.bak

      - name: üíæ Commit and Push Changes (Native Git)
        # This step uses standard Git commands and the GITHUB_TOKEN for authentication
        run: |
          # 1. Configure Git user details
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          
          # 2. Stage the file for commit
          git add events.md
          
          # 3. Commit the changes
          # The '|| true' allows the workflow to succeed if there are no changes to commit.
          # This prevents a failure when 'Shannon' is not found.
          git commit -m "Automated: Replace 'Shannon' with 'Joe' in events.md" || echo "No changes to commit, continuing."
          
          # 4. Push the commit to the repository
          git push
